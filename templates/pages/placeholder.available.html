{% extends 'layouts/main.html' %}
{% block title %}Availble Resources{% endblock %}
{% block content %}
<div class="page-header">
  <h1>Availabe Demos that are reserved by you</h1>
</div>
<div class="data-grid">
<table class="datagrid">
		<tr>
			<td>
				<table border="1"> 
					<tr class="alt">
						<td style="background: #e2e4e7;"> 
							Demo Set Name 
						</td> 
						<td style="background: #e2e4e7;">	
							<select id="selectoption" >
								  <option id="select_a_demo" >Select a Demo</option>
								  {% for demo in  demo_details_names %}
								  <option value={{demo.demo_name}} id={{demo.demo_name }}>{{demo.demo_name}}</option>
								  {% endfor %}
							</select> 	
						</td>
					</tr>
					<tr class="alt">
						<td>
							Description
						</td>
						<td>
								<textarea rows="5" cols="80" readonly id="description_area" disabled >
								Please select perticular demo name to get the details
								</textarea>
						</td>
					</tr>
					<tr class="alt">
						<td>
							Device Details	
						</td>
						<td>
								<textarea rows="5" cols="80" readonly id="device_details_area" disabled >
								Please select perticular demo name to get the details
								</textarea>
						</td>
					</tr>

				</table>
			
			</td>
			<td>		
					Pictures There would be image coming here 
			</td>

		</tr>
		<tr>
			<td>
				
					<button type="submit">Reserved !</button> 
			</td>
			<td>
				A calender widget needs to come here , date and time ,and shall reserve the database for an hour 	
			</td>
		</tr>
</table>
</div>
<table>

	 		{% for o in demo_details %}
        <tr> 
        <td width="300px">{{ o.demo_name }}</td>
        <td width="100px">{{ o.description }}</td>
        <td width="50px">{{ o.device_details }}</td>
		</tr>
		  {%endfor%}
</table>

 <script type=text/javascript>
 $(document).ready(function() {
   $("#selectoption").change(function() {
   	 selectIndex = document.getElementById('selectoption').selectedIndex ;
        selectedValue = document.getElementById('selectoption').options[selectIndex].value;
		alert(selectedValue);
        $.ajax({
           type: "GET",
           url:"/_update_reserved_demo/",
           contentType: "application/xml; charset=utf-8",
           data: { echoValue:selectedValue },
           success: function(data) {
//               $('#echoResult').text(data.value);
   				alert("success");
           },
           error: function(jqXHR, textStatus, errorThrown) {
               alert(errorThrown);
           }
       });    
   });
  });
</script>
{% endblock %}
